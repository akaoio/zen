# Performance Validation Test Suite
# Tests the performance improvements from Phase 2 optimizations

print "=== ZEN Phase 2 Performance Validation ==="
print ""

# Test 1: Simple arithmetic (should work with AST pools)
print "Test 1: Basic Arithmetic"
set start_time dateTimeNow
set x 1 + 2 + 3 + 4 + 5
set end_time dateTimeNow
print "Result: " + toString x
print "Time: " + toString (end_time - start_time) + "ms"
print ""

# Test 2: Loop performance
print "Test 2: Loop Performance"
set start_time dateTimeNow
set total 0
for i in 1..100
    set total total + i
set end_time dateTimeNow
print "Sum 1-100: " + toString total
print "Time: " + toString (end_time - start_time) + "ms"
print ""

# Test 3: Simple function calls (non-recursive)
print "Test 3: Simple Function Calls"
function square n
    return n * n

set start_time dateTimeNow
set result 0
for i in 1..50
    set result result + square i
set end_time dateTimeNow
print "Sum of squares 1-50: " + toString result
print "Time: " + toString (end_time - start_time) + "ms"
print ""

# Test 4: String operations
print "Test 4: String Operations"
set start_time dateTimeNow
set text "Hello"
for i in 1..20
    set text text + " World"
set end_time dateTimeNow
print "String length: " + toString len text
print "Time: " + toString (end_time - start_time) + "ms"
print ""

# Test 5: Array operations
print "Test 5: Array Operations"
set start_time dateTimeNow
set numbers []
for i in 1..50
    arrayPush numbers i * 2
set end_time dateTimeNow
print "Array length: " + toString len numbers
print "Time: " + toString (end_time - start_time) + "ms"
print ""

print "=== Performance Validation Complete ==="
print ""
print "Note: Recursive functions (fibonacci) require bytecode"
print "      compilation for acceptable performance."