# Test all major features

# Functions and nested calls
function max a b
    if a > b
        return a
    return b

print "Max of 5 and 10:" max 5 10
print "Max nested:" max 3 (max 7 5)

# String operations
set text "hello world"
print "Upper:" upper text
print "Split:" split text " "
print "Contains 'world':" contains text "world"

# Arrays
set nums 1, 2, 3, 4, 5
push nums 6
print "Array after push:" nums

# Type checking
print "Is 5 a number?" isNumber 5
print "Is 'hello' a string?" isString "hello"

# Math functions
print "Abs of -5:" abs -5
print "Round 3.7:" round 3.7

# Loops
set i 0
while i < 3
    print "Loop iteration:" i
    set i i + 1

# Objects
set person name "Alice", age 30
print "Person object:" person

# JSON operations
set json_str '{"name": "Bob", "age": 25}'
set parsed jsonParse json_str
print "Parsed JSON:" parsed

# Regex operations
set pattern "\\d+"
set matches regexMatch "The answer is 42" pattern
print "Regex match result:" matches
EOF < /dev/null
