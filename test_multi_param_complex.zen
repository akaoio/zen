# Complex test with multiple functions and parameters
function add a b
    return a + b

function multiply x y z
    return x * y * z

function process_data val1 val2 val3 val4
    set sum add val1 val2
    set product multiply val3 val4 2
    return sum + product

# Test with various argument types
set result1 process_data 10 20 3 4
print "Result 1: " + result1

# Test with nested function calls
set result2 process_data (add 1 2) (multiply 2 2 1) 5 (add 3 3)
print "Result 2: " + result2

# Recursive function test
function factorial n
    if n <= 1
        return 1
    return n * factorial (n - 1)

set fact5 factorial 5
print "5! = " + fact5

# Multiple sequential calls
set a process_data 1 2 3 4
set b process_data 5 6 7 8  
set c process_data 9 10 11 12
print "Sequential: " + a + ", " + b + ", " + c